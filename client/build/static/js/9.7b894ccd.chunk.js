(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[9],{131:function(e,t,a){"use strict";a.r(t);var s=a(21),r=a(22),n=a(30),i=a(29),o=a(0),c=a.n(o),l=a(31),p=a(13),d=a(24),m=a(33),u=function(e){Object(n.a)(a,e);var t=Object(i.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"user-card position-relative my-5 "+this.props.class},c.a.createElement("img",{alt:"",src:this.props.profilePic,className:"rounded-circle user-card__image bg-brand"}),c.a.createElement("div",{className:"user-card__body"},c.a.createElement("div",{className:"user-card__body__info d-flex justify-content-center d-md-block"},c.a.createElement("h3",{className:"user-card__body__username montserrat"},this.props.username),c.a.createElement("p",{className:"mb-3 d-none d-md-block user-card__body__info__description montserrat"},this.props.description)),c.a.createElement("div",{className:"user-card__body__actions d-flex justify-content-center d-md-block"},c.a.createElement(m.b,{to:"/u/"+this.props.username},c.a.createElement("button",{className:"btn btn-brand btn-sm rounded-pill text-white px-3"},"VIEW")))))}}]),a}(o.Component),h=a(82),f=a(79),b=a(87),v=function(e){Object(n.a)(a,e);var t=Object(i.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.discoverPosts(),this.props.discoverUsers()}},{key:"componentWillUnmount",value:function(){this.props.restartState()}},{key:"render",value:function(){return c.a.createElement("div",{className:"container my-5"},c.a.createElement("h2",{className:"montserrat"},"Discover users"),c.a.createElement("div",{className:"d-inline-flex flex-row w-100 mb-5",style:{overflowX:"scroll",overflowY:"hidden",minHeight:"100px"}},this.props.usersLoading&&c.a.createElement("div",{className:"d-flex justify-content-center m-auto"},c.a.createElement(f.a,null)),this.props.users.map((function(e){return c.a.createElement("div",{className:"mx-3 mx-md-5 px-md-5 animated fadeIn",key:e._id},c.a.createElement(u,e))}))),c.a.createElement("h2",{className:"montserrat"},"Explore posts"),c.a.createElement("div",{className:"row mt-5"},c.a.createElement(b.a,{onBottom:this.props.discoverPosts},this.props.posts.map((function(e,t){return c.a.createElement("div",{className:"col-12 col-md-6 animated fadeIn",key:e._id+t},c.a.createElement(h.a,e))})),this.props.postsLoading&&c.a.createElement("div",{className:"d-flex justify-content-center m-auto my-5 py-5"},c.a.createElement(f.a,null)))))}}]),a}(o.Component);t.default=Object(l.b)((function(e){return{posts:e.posts.items,postsLoading:e.posts.loading,users:e.users.items,usersLoading:e.users.loading}}),(function(e){return{discoverPosts:function(){return e(Object(p.k)())},discoverUsers:function(){return e(Object(d.d)())},restartState:function(){e(Object(p.o)()),e(Object(d.e)())}}}))(v)},79:function(e,t,a){"use strict";var s=a(0),r=a.n(s);t.a=function(e){return r.a.createElement("div",{className:"spinner-border text-brand "+e.classes},r.a.createElement("span",{className:"sr-only"},"Loading..."))}},82:function(e,t,a){"use strict";var s=a(21),r=a(22),n=a(32),i=a(30),o=a(29),c=a(0),l=a.n(c),p=a(31),d=a(88),m=a.n(d),u=a(89),h=a.n(u),f=a(13),b=a(33),v=a(5),E=a(90),y=a.n(E),_=a(6),N=a(91),g=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).deletePost=r.deletePost.bind(Object(n.a)(r)),r.canDeleteIt=r.canDeleteIt.bind(Object(n.a)(r)),r.handleLike=r.handleLike.bind(Object(n.a)(r)),r.parseText=r.parseText.bind(Object(n.a)(r)),h.a.extend(m.a),r}return Object(r.a)(a,[{key:"deletePost",value:function(){this.props.deletePost({postId:this.props._id})}},{key:"canDeleteIt",value:function(){return this.props.session._id&&this.props.author._id?this.props.session._id===this.props.author._id:this.props.session.username&&this.props.match.params.id?this.props.session.username===this.props.match.params.id:void 0}},{key:"parseText",value:function(){this.props.message.split}},{key:"handleLike",value:function(){if(!this.props.logged)return _.a.warn("You must be logged in to perform this action \ud83d\ude22",{position:"bottom-right"});this.props.liked?this.props.unlikePost(this.props._id):this.props.likePost(this.props._id)}},{key:"render",value:function(){return l.a.createElement("div",{className:"card w-100 my-5 post"},l.a.createElement("div",{className:"card-header bg-white pb-0 border-0 d-flex justify-content-between"},l.a.createElement("div",null,l.a.createElement("small",{className:"text-muted"},h()().from(h()(this.props.createdAt))," ago.")),l.a.createElement("div",{className:"d-flex"},l.a.createElement("div",null,l.a.createElement(b.b,{to:"/u/"+this.props.author.username},this.props.author.username)),l.a.createElement("div",{className:"post__avatar ml-2"},l.a.createElement(b.b,{to:"/u/"+this.props.author.username},l.a.createElement("img",{alt:"",src:this.props.author.profilePic,className:"img-fluid cursor-pointer rounded-circle"}))))),l.a.createElement("div",{className:"card-body px-4 py-4"},l.a.createElement(y.a,{properties:{target:"_blank"}},l.a.createElement("p",{className:"my-0 py-0 ws-pre-line"},this.props.message)),this.props.extra&&l.a.createElement("div",{className:"mt-3"},l.a.createElement(N.a,{videoId:this.props.extra.value,opts:{width:"100%",height:"400"}})),l.a.createElement("div",{onClick:this.handleLike,className:"d-inline-flex px-3 py-1 text-brand-secondary rounded-pill post__likes cursor-pointer"},l.a.createElement("span",null,this.props.likes," ",l.a.createElement("i",{className:"mr-1 ".concat(this.props.liked?"fas fa-heart":"far fa-heart")}))),this.canDeleteIt()&&l.a.createElement("div",{onClick:this.deletePost,className:"d-inline-flex px-3 py-1 rounded-pill post__delete cursor-pointer"},l.a.createElement("span",{className:"text-secondary"},l.a.createElement("i",{className:"fas fa-times"})))))}}]),a}(c.Component);t.a=Object(p.b)((function(e){return{logged:e.app.logged.isLogged,session:e.app.logged}}),(function(e){return{deletePost:function(t){return e(Object(f.j)(t))},likePost:function(t){return e(Object(f.m)(t))},unlikePost:function(t){return e(Object(f.p)(t))}}}))(Object(v.f)(g))}}]);
//# sourceMappingURL=9.7b894ccd.chunk.js.map