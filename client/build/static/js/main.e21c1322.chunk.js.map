{"version":3,"sources":["reducers/app.js","reducers/profile.js","reducers/posts.js","reducers/users.js","store.js","actions/posts.js","api/api.js","actions/profile.js","actions/users.js","actions/app.js","routes/AppRouter.js","index.js"],"names":["defaultState","profilePicModal","isVisible","postModal","settingsModal","loading","navbar","logged","isLoading","isLogged","token","username","profilePic","description","openProfile","error","visibleSidenav","editingDescription","isThereMore","offset","quantity","items","reducers","combineReducers","app","state","action","type","TOGGLE_NAVBAR","payload","value","TOGGLE_SETTINGS_MODAL","TOGGLE_POST_MODAL","TOGGLE_PROFILE_PICTURE_MODAL","SET_PROFILE_PRIVACY","SET_LOGIN_LOADING","SET_SETTINGS_LOADING","SET_PROFILE_PICTURE","url","SET_PROFILE_DESCRIPTION","SIGN_UP","SIGN_IN","localStorage","setItem","JSON","stringify","RECONNECT","last_session","RESET_LAST_CONNECTION","LOGOUT","profile","TOGGLE_SIDENAV","TOGGLE_EDITING_DESCRIPTION","FETCH_PROFILE","SET_LOADING","UPDATE_PROFILE_PICTURE","RESTART_STATE","posts","FETCH_USER_POSTS","length","map","post","author","DISCOVER_POSTS","NEW_POST","newPost","LIKE_POST","likedPost","_id","likes","likedBy","liked","UNLIKE_POST","unlikedPost","DELETE_POST","filter","deletedPost","users","DISCOVER_USERS","user","store","createStore","composeWithDevTools","applyMiddleware","thunk","API","api","fetchUserPosts","usernamePosts","dispatch","getState","setLoading","get","then","res","code","response","includes","catch","e","console","log","cogoToast","info","position","discoverPosts","id","data","message","success","likePost","postId","unlikePost","deletePost","delete","warn","updatePostsPicture","restartState","Api","this","baseUrl","config","headers","Promise","rej","axios","status","logout","params","authToken","patch","toggleSidenav","toggleEditingDescription","updateProfilePicture","fetchProfile","ownProfile","danger","discoverUsers","setLoginLoad","setSettingsLoad","togglePostModal","toggleSettingsModal","toggleProfilePictureModal","toggleProfilePrivacy","resetLastConnection","reconnect","removeItem","window","location","href","signUp","password","signIn","setProfilePic","setDescription","toggleNavbar","Home","lazy","Profile","Error","Explore","NewPostModal","SettingsModal","Navbar","AppRouter","fallback","path","component","exact","className","Component","Store","getItem","parse","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e21c1322.chunk.js","sourcesContent":["import {\r\n\tTOGGLE_NAVBAR,\r\n\tTOGGLE_POST_MODAL,\r\n\tTOGGLE_PROFILE_PICTURE_MODAL,\r\n\tSET_LOGIN_LOADING,\r\n\tSIGN_UP,\r\n\tSIGN_IN,\r\n\tRECONNECT,\r\n\tLOGOUT,\r\n\tSET_PROFILE_PICTURE,\r\n\tSET_PROFILE_DESCRIPTION,\r\n\tSET_PROFILE_PRIVACY,\r\n\tTOGGLE_SETTINGS_MODAL,\r\n\tSET_SETTINGS_LOADING,\r\n\tRESET_LAST_CONNECTION\r\n} from '../actions/app';\r\n\r\nconst defaultState = {\r\n\tprofilePicModal: {\r\n\t\tisVisible: false\r\n\t},\r\n\tpostModal: {\r\n\t\tisVisible: false\r\n\t},\r\n\tsettingsModal: {\r\n\t\tisVisible: false,\r\n\t\tloading: false\r\n\t},\r\n\tnavbar: {\r\n\t\tisVisible: true\r\n\t},\r\n\tlogged: {\r\n\t\tisLoading: false,\r\n\t\tisLogged: false,\r\n\t\ttoken: null,\r\n\t\tusername: null,\r\n\t\tprofilePic: null,\r\n\t\tdescription: null,\r\n\t\topenProfile: null,\r\n\t\terror: null\r\n\t}\r\n};\r\n\r\nexport default (state = defaultState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase TOGGLE_NAVBAR:\r\n\t\t\tconst { value: isVisible } = action.payload;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tnavbar: {\r\n\t\t\t\t\tisVisible\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tcase TOGGLE_SETTINGS_MODAL:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsettingsModal: {\r\n\t\t\t\t\t...state.settingsModal,\r\n\t\t\t\t\tisVisible: !state.settingsModal.isVisible\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tcase TOGGLE_POST_MODAL:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostModal: {\r\n\t\t\t\t\tisVisible: !state.postModal.isVisible\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase TOGGLE_PROFILE_PICTURE_MODAL:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofilePicModal: {\r\n\t\t\t\t\tisVisible: !state.profilePicModal.isVisible\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tcase SET_PROFILE_PRIVACY:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlogged: {\r\n\t\t\t\t\t...state.logged,\r\n\t\t\t\t\topenProfile: action.payload.openProfile\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tcase SET_LOGIN_LOADING:\r\n\t\t\tconst { value: isLoading } = action.payload;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlogged: {\r\n\t\t\t\t\t...state.logged,\r\n\t\t\t\t\tisLoading\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tcase SET_SETTINGS_LOADING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsettingsModal: {\r\n\t\t\t\t\t...state.settingsModal,\r\n\t\t\t\t\tloading: action.payload.value\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tcase SET_PROFILE_PICTURE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlogged: {\r\n\t\t\t\t\t...state.logged,\r\n\t\t\t\t\tprofilePic: action.payload.url\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tcase SET_PROFILE_DESCRIPTION:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlogged: {\r\n\t\t\t\t\t...state.logged,\r\n\t\t\t\t\tdescription: action.payload.description\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tcase SIGN_UP:\r\n\t\tcase SIGN_IN:\r\n\t\t\tlocalStorage.setItem('last_session', JSON.stringify({ ...action.payload }));\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlogged: {\r\n\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\tisLogged: true,\r\n\t\t\t\t\t...action.payload\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tcase RECONNECT:\r\n\t\t\tconst { last_session } = action.payload;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlogged: {\r\n\t\t\t\t\t...last_session,\r\n\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\tisLogged: true,\r\n\t\t\t\t\tprofilePic: last_session.profilePic\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tcase RESET_LAST_CONNECTION:\r\n\t\t\tlocalStorage.setItem('last_session', JSON.stringify({ ...state.logged }));\r\n\t\t\treturn state;\r\n\t\tcase LOGOUT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlogged: defaultState.logged\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n","import {\r\n  FETCH_PROFILE,\r\n  RESTART_STATE,\r\n  SET_LOADING,\r\n  UPDATE_PROFILE_PICTURE,\r\n  SET_PROFILE_DESCRIPTION,\r\n  TOGGLE_EDITING_DESCRIPTION,\r\n  TOGGLE_SIDENAV,\r\n} from \"../actions/profile\";\r\n\r\nconst defaultState = {\r\n  loading: true,\r\n  visibleSidenav: true,\r\n  editingDescription: false,\r\n  username: null,\r\n  description: null,\r\n  profilePic: null,\r\n};\r\n\r\nexport default (state = defaultState, action) => {\r\n  switch (action.type) {\r\n    case TOGGLE_SIDENAV:\r\n      return {\r\n        ...state,\r\n        visibleSidenav: !state.visibleSidenav,\r\n      };\r\n    case TOGGLE_EDITING_DESCRIPTION:\r\n      return {\r\n        ...state,\r\n        editingDescription: !state.editingDescription,\r\n      };\r\n    case FETCH_PROFILE:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n        profilePic: action.payload.profilePic,\r\n      };\r\n    case SET_LOADING:\r\n      return {\r\n        ...state,\r\n        loading: action.payload.loading,\r\n      };\r\n    case UPDATE_PROFILE_PICTURE:\r\n      return {\r\n        ...state,\r\n        profilePic: action.payload.url,\r\n      };\r\n    case SET_PROFILE_DESCRIPTION:\r\n      return {\r\n        ...state,\r\n        description: action.payload.description,\r\n      };\r\n    case RESTART_STATE:\r\n      return defaultState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  DISCOVER_POSTS,\r\n  DELETE_POST,\r\n  NEW_POST,\r\n  RESTART_STATE,\r\n  SET_LOADING,\r\n  FETCH_USER_POSTS,\r\n  LIKE_POST,\r\n  UNLIKE_POST,\r\n  UPDATE_PROFILE_PICTURE,\r\n} from \"../actions/posts\";\r\n// import store from \"../store\";\r\n\r\nconst defaultState = {\r\n  loading: false,\r\n  isThereMore: true,\r\n  offset: 0,\r\n  quantity: 5,\r\n  items: [],\r\n};\r\n\r\nexport default (state = defaultState, action) => {\r\n  switch (action.type) {\r\n    case FETCH_USER_POSTS:\r\n      return {\r\n        ...state,\r\n        isThereMore: !!action.payload.length,\r\n        offset: state.offset + state.quantity,\r\n        items: [\r\n          ...state.items,\r\n          ...action.payload.map((post) => ({\r\n            ...post,\r\n            author: {\r\n              ...post.author,\r\n              profilePic: post.author.profilePic,\r\n            },\r\n          })),\r\n        ],\r\n      };\r\n    case DISCOVER_POSTS:\r\n      return {\r\n        ...state,\r\n        items: [\r\n          ...state.items,\r\n          ...action.payload.map((post) => ({\r\n            ...post,\r\n            author: {\r\n              ...post.author,\r\n              profilePic: post.author.profilePic,\r\n            },\r\n          })),\r\n        ],\r\n      };\r\n    case NEW_POST:\r\n      return {\r\n        ...state,\r\n        items: [\r\n          {\r\n            ...action.payload.newPost,\r\n            author: {\r\n              ...action.payload.newPost.author,\r\n              profilePic: action.payload.newPost.author.profilePic,\r\n            },\r\n          },\r\n          ...state.items,\r\n        ],\r\n      };\r\n    case LIKE_POST:\r\n      const { likedPost } = action.payload;\r\n\r\n      return {\r\n        ...state,\r\n        items: state.items.map((post) =>\r\n          post._id === likedPost._id\r\n            ? {\r\n                ...post,\r\n                likes: likedPost.likes,\r\n                likedBy: likedPost.likedBy,\r\n                liked: true,\r\n              }\r\n            : post\r\n        ),\r\n      };\r\n    case UNLIKE_POST:\r\n      const { unlikedPost } = action.payload;\r\n\r\n      return {\r\n        ...state,\r\n        items: state.items.map((post) =>\r\n          post._id === unlikedPost._id\r\n            ? {\r\n                ...post,\r\n                likes: unlikedPost.likes,\r\n                likedBy: unlikedPost.likedBy,\r\n                liked: false,\r\n              }\r\n            : post\r\n        ),\r\n      };\r\n    case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        items: state.items.filter(\r\n          (post) => post._id !== action.payload.deletedPost._id\r\n        ),\r\n      };\r\n    case SET_LOADING:\r\n      return {\r\n        ...state,\r\n        loading: action.payload.loading,\r\n      };\r\n    case UPDATE_PROFILE_PICTURE:\r\n      const username = action.payload.username;\r\n      const items = state.items.map((post) => {\r\n        if (post.author.username === username) {\r\n          return {\r\n            ...post,\r\n            author: {\r\n              ...post.author,\r\n              profilePic: action.payload.url,\r\n            },\r\n          };\r\n        } else {\r\n          return post;\r\n        }\r\n      });\r\n\r\n      return { ...state, items };\r\n\r\n    case RESTART_STATE:\r\n      return defaultState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { DISCOVER_USERS, SET_LOADING, RESTART_STATE } from \"../actions/users\";\r\nconst defaultState = {\r\n  loading: false,\r\n  items: [],\r\n};\r\n\r\nexport default (state = defaultState, action) => {\r\n  switch (action.type) {\r\n    case DISCOVER_USERS:\r\n      return {\r\n        ...state,\r\n        items: action.payload.map((user) => ({\r\n          ...user,\r\n          profilePic: user.profilePic,\r\n        })),\r\n      };\r\n    case SET_LOADING:\r\n      return {\r\n        ...state,\r\n        loading: action.payload.loading,\r\n      };\r\n    case RESTART_STATE:\r\n      return defaultState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore, combineReducers, applyMiddleware } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport appReducer from \"./reducers/app\";\r\nimport profileReducer from \"./reducers/profile\";\r\nimport postsReducer from \"./reducers/posts\";\r\nimport usersReducer from \"./reducers/users\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nconst reducers = combineReducers({\r\n  app: appReducer,\r\n  profile: profileReducer,\r\n  posts: postsReducer,\r\n  users: usersReducer,\r\n});\r\n\r\nconst store = createStore(\r\n  reducers,\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","// import axios from 'axios';\r\nimport cogoToast from \"cogo-toast\";\r\nimport api from \"../api/api\";\r\n\r\nconst API = new api();\r\n\r\nexport const FETCH_USER_POSTS = \"[POST] FETCH_USER_POSTS\",\r\n  NEW_POST = \"[POST] NEW_POST\",\r\n  DISCOVER_POSTS = \"[POST] DISCOVER_POSTS\",\r\n  DELETE_POST = \"[POST] DELETE_POST\",\r\n  RESTART_STATE = \"[POST] RESTART_STATE\",\r\n  SET_LOADING = \"[POST] SET_LOADING\",\r\n  LIKE_POST = \"[POST] LIKE_POST\",\r\n  UNLIKE_POST = \"[POST] UNLIKE_POST\",\r\n  UPDATE_PROFILE_PICTURE = \"[POST] UPDATE_PROFILE_PICTURE\";\r\n\r\nexport const fetchUserPosts = (usernamePosts) => {\r\n  return (dispatch, getState) => {\r\n    const state = getState();\r\n    const { offset, quantity, isThereMore, loading } = state.posts;\r\n    const { username } = state.app.logged;\r\n\r\n    if (isThereMore && !loading) {\r\n      dispatch(setLoading(true));\r\n\r\n      API.get(\r\n        `user/${usernamePosts}/posts?offset=${offset}&quantity=${quantity}`\r\n      )\r\n        .then((res) => {\r\n          if (res.code === 200)\r\n            dispatch({\r\n              type: FETCH_USER_POSTS,\r\n              payload: res.response.map((post) => ({\r\n                ...post,\r\n                liked: post.likedBy.includes(username),\r\n              })),\r\n            });\r\n        })\r\n        .catch((e) => console.log(e))\r\n        .then(() => dispatch(setLoading(false)));\r\n    } else if (!loading) {\r\n      cogoToast.info(`You have reached the bottom 😱!`, {\r\n        position: \"bottom-right\",\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const discoverPosts = (username) => {\r\n  return (dispatch, getState) => {\r\n    const state = getState();\r\n    const { isThereMore, loading } = state.posts;\r\n    const { _id: id } = state.app.logged;\r\n\r\n    if (isThereMore && !loading) {\r\n      dispatch(setLoading(true));\r\n      API.get(\"discover/posts\")\r\n        .then((res) => {\r\n          if (res.code === 200)\r\n            dispatch({\r\n              type: DISCOVER_POSTS,\r\n              payload: res.response.map((post) => ({\r\n                ...post,\r\n                liked: post.likedBy.includes(id),\r\n              })),\r\n            });\r\n        })\r\n        .catch((e) => console.log(e))\r\n        .then(() => dispatch(setLoading(false)));\r\n    } else {\r\n      cogoToast.info(`You have reached the bottom 😱!`, {\r\n        position: \"bottom-right\",\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const newPost = (data) => {\r\n  return (dispatch, getState) => {\r\n    const state = getState();\r\n    const { username: profile } = state.profile;\r\n    const { username, message } = data;\r\n\r\n    API.post(`user/${username}/new/post`, { ...data })\r\n      .then((res) => {\r\n        if (res.code === 200) {\r\n          cogoToast.success(`Post submitted`, {\r\n            position: \"bottom-right\",\r\n          });\r\n\r\n          if (username === profile) {\r\n            dispatch({\r\n              type: NEW_POST,\r\n              payload: {\r\n                newPost: res.response,\r\n              },\r\n            });\r\n          }\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        cogoToast.error(`There were an error submitting your post.`, {\r\n          position: \"bottom-right\",\r\n        });\r\n      });\r\n  };\r\n};\r\n\r\nexport const likePost = (postId) => {\r\n  return (dispatch, getState) => {\r\n    const state = getState();\r\n\r\n    API.post(`post/${postId}/like`)\r\n      .then((res) => {\r\n        if (res.code === 200)\r\n          dispatch({\r\n            type: LIKE_POST,\r\n            payload: {\r\n              likedPost: res.response,\r\n            },\r\n          });\r\n      })\r\n      .catch((e) => console.log(e));\r\n  };\r\n};\r\n\r\nexport const unlikePost = (postId) => {\r\n  return (dispatch, getState) => {\r\n    const state = getState();\r\n\r\n    API.post(`post/${postId}/unlike`)\r\n      .then((res) => {\r\n        if (res.code === 200)\r\n          dispatch({\r\n            type: UNLIKE_POST,\r\n            payload: {\r\n              unlikedPost: res.response,\r\n            },\r\n          });\r\n      })\r\n      .catch((e) => console.log(e));\r\n  };\r\n};\r\n\r\nexport const deletePost = (data) => {\r\n  return (dispatch) => {\r\n    const { postId } = data;\r\n    API.delete(`post/${postId}`)\r\n      .then((res) => {\r\n        cogoToast.warn(`Post deleted`, {\r\n          position: \"bottom-right\",\r\n        });\r\n        dispatch({\r\n          type: DELETE_POST,\r\n          payload: {\r\n            ...res,\r\n          },\r\n        });\r\n      })\r\n      .catch((e) => console.log(e));\r\n  };\r\n};\r\n\r\nexport const setLoading = (loading) => {\r\n  return (dispatch) =>\r\n    dispatch({\r\n      type: SET_LOADING,\r\n      payload: {\r\n        loading,\r\n      },\r\n    });\r\n};\r\n\r\nexport const updatePostsPicture = (url) => {\r\n  return (dispatch, getState) => {\r\n    const state = getState();\r\n    const username = state.app.logged.username;\r\n\r\n    dispatch({\r\n      type: UPDATE_PROFILE_PICTURE,\r\n      payload: {\r\n        url,\r\n        username,\r\n      },\r\n    });\r\n  };\r\n};\r\n\r\nexport const restartState = (data) => {\r\n  return (dispatch) =>\r\n    dispatch({\r\n      type: RESTART_STATE,\r\n    });\r\n};\r\n","import axios from \"axios\";\r\nimport cogoToast from \"cogo-toast\";\r\nimport store from \"../store\";\r\nimport { logout } from \"../actions/app\";\r\n\r\nclass Api {\r\n  constructor() {\r\n    this.baseUrl = \"http://localhost:8000/api\";\r\n  }\r\n\r\n  get(url) {\r\n    const state = store.getState();\r\n\r\n    const config = {\r\n      headers: {},\r\n    };\r\n\r\n    if (state.app.logged.token)\r\n      config.headers[\"authToken\"] = state.app.logged.token;\r\n\r\n    return new Promise((res, rej) => {\r\n      axios\r\n        .get(`${this.baseUrl}/${url}`, config)\r\n        .then((response) => res(response.data))\r\n        .catch((e) => {\r\n          const { status, data } = e.response;\r\n\r\n          switch (status) {\r\n            case 401:\r\n              store.dispatch(logout());\r\n              break;\r\n          }\r\n\r\n          cogoToast.error(`${status}: ${data.message}`, {\r\n            position: \"bottom-right\",\r\n          });\r\n          rej(e);\r\n        });\r\n    });\r\n  }\r\n\r\n  post(url, params) {\r\n    const state = store.getState();\r\n\r\n    const config = {\r\n      headers: {},\r\n    };\r\n\r\n    if (state.app.logged.token) {\r\n      config.headers[\"authToken\"] = state.app.logged.token;\r\n    }\r\n\r\n    return new Promise((res, rej) => {\r\n      axios\r\n        .post(`${this.baseUrl}/${url}`, params, config)\r\n        .then((response) => res(response.data))\r\n        .catch((e) => {\r\n          const { status, data } = e.response;\r\n\r\n          switch (status) {\r\n            case 401:\r\n              store.dispatch(logout());\r\n              break;\r\n          }\r\n\r\n          cogoToast.error(`${status}: ${data.message}`, {\r\n            position: \"bottom-right\",\r\n          });\r\n          rej(e);\r\n        });\r\n    });\r\n  }\r\n\r\n  patch(url, params) {\r\n    const state = store.getState();\r\n\r\n    if (!state.app.logged.token) return;\r\n\r\n    const config = {\r\n      headers: {\r\n        authToken: state.app.logged.token,\r\n      },\r\n    };\r\n\r\n    return new Promise((res, rej) => {\r\n      axios\r\n        .patch(`${this.baseUrl}/${url}`, params, config)\r\n        .then((response) => res(response.data))\r\n        .catch((e) => {\r\n          const { status, data } = e.response;\r\n\r\n          switch (status) {\r\n            case 401:\r\n              store.dispatch(logout());\r\n              break;\r\n          }\r\n\r\n          cogoToast.error(`${status}: ${data.message}`, {\r\n            position: \"bottom-right\",\r\n          });\r\n          rej(e);\r\n        });\r\n    });\r\n  }\r\n\r\n  delete(url, params) {\r\n    const state = store.getState();\r\n\r\n    if (!state.app.logged.token) return;\r\n\r\n    const config = {\r\n      headers: {\r\n        authToken: state.app.logged.token,\r\n      },\r\n      data: params,\r\n    };\r\n\r\n    return new Promise((res, rej) => {\r\n      axios\r\n        .delete(`${this.baseUrl}/${url}`, config)\r\n        .then((response) => res(response.data))\r\n        .catch((e) => {\r\n          const { status, data } = e.response;\r\n\r\n          switch (status) {\r\n            case 401:\r\n              store.dispatch(logout());\r\n              break;\r\n          }\r\n\r\n          cogoToast.error(`${status}: ${data.message}`, {\r\n            position: \"bottom-right\",\r\n          });\r\n          rej(e);\r\n        });\r\n    });\r\n  }\r\n}\r\n\r\nexport default Api;\r\n","// import axios from \"axios\";\r\nimport cogoToast from \"cogo-toast\";\r\nimport api from \"../api/api\";\r\nimport { resetLastConnection } from \"./app\";\r\n\r\nconst API = new api();\r\n\r\nexport const FETCH_PROFILE = \"[PROFILE] FETCH_PROFILE\",\r\n  NEW_POST = \"[PROFILE] NEW_POST\",\r\n  RESTART_STATE = \"[PROFILE] RESTART_STATE\",\r\n  SET_LOADING = \"[PROFILE] SET_LOADING\",\r\n  UPDATE_PROFILE_PICTURE = \"[PROFILE] UPDATE_PROFILE_PICTURE\",\r\n  TOGGLE_EDITING_DESCRIPTION = \"[PROFILE] TOGGLE_EDITING_DESCRIPTION\",\r\n  SET_PROFILE_DESCRIPTION = \"[APP] SET_PROFILE_DESCRIPTION\",\r\n  TOGGLE_SIDENAV = \"[PROFILE] TOGGLE_SIDENAV\";\r\n\r\nexport const toggleSidenav = () => {\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: TOGGLE_SIDENAV,\r\n    });\r\n  };\r\n};\r\n\r\nexport const setDescription = (description) => {\r\n  return (dispatch) => {\r\n    cogoToast.success(`Description updated!`, {\r\n      position: \"bottom-right\",\r\n    });\r\n    dispatch({\r\n      type: SET_PROFILE_DESCRIPTION,\r\n      payload: {\r\n        description,\r\n      },\r\n    });\r\n\r\n    dispatch(resetLastConnection());\r\n  };\r\n};\r\n\r\nexport const toggleEditingDescription = () => {\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: TOGGLE_EDITING_DESCRIPTION,\r\n    });\r\n  };\r\n};\r\nexport const updateProfilePicture = (url) => {\r\n  console.log(url);\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: UPDATE_PROFILE_PICTURE,\r\n      payload: {\r\n        url,\r\n      },\r\n    });\r\n  };\r\n};\r\nexport const fetchProfile = (username) => {\r\n  return (dispatch, getState) => {\r\n    const state = getState();\r\n    dispatch(setLoading(true));\r\n\r\n    API.get(`user/${username}`)\r\n      .then((res) => {\r\n        if (res.code === 200)\r\n          dispatch({\r\n            type: FETCH_PROFILE,\r\n            payload: {\r\n              ...res.response,\r\n              ownProfile: state.app.logged.username === res.response.username,\r\n            },\r\n          });\r\n      })\r\n\r\n      .catch((e) => {\r\n        switch (e.response.status) {\r\n          case 404:\r\n            cogoToast.danger(\"404: User not found\", {\r\n              position: \"bottom-right\",\r\n            });\r\n            break;\r\n          default:\r\n            cogoToast.danger(\"Unexpected error\", {\r\n              position: \"bottom-right\",\r\n            });\r\n            break;\r\n        }\r\n      })\r\n      .then(() => {\r\n        dispatch(setLoading(false));\r\n      });\r\n  };\r\n};\r\n\r\nexport const setLoading = (loading) => {\r\n  return (dispatch) =>\r\n    dispatch({\r\n      type: SET_LOADING,\r\n      payload: {\r\n        loading,\r\n      },\r\n    });\r\n};\r\n\r\nexport const restartState = (data) => {\r\n  return (dispatch) =>\r\n    dispatch({\r\n      type: RESTART_STATE,\r\n    });\r\n};\r\n","import axios from \"axios\";\r\nimport cogoToast from \"cogo-toast\";\r\nimport api from \"../api/api\";\r\n\r\nconst API = new api();\r\n\r\nexport const DISCOVER_USERS = \"DISCOVER_USERS\",\r\n\tRESTART_STATE = \"RESTART_STATE\",\r\n\tSET_LOADING = \"SET_LOADING\";\r\n\r\nexport const discoverUsers = (username) => {\r\n\treturn (dispatch, getState) => {\r\n\t\tconst state = getState();\r\n\r\n\t\tdispatch(setLoading(true));\r\n\r\n\t\tAPI.get(\"discover/users\")\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.code == 200)\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: DISCOVER_USERS,\r\n\t\t\t\t\t\tpayload: res.response,\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\tdispatch(setLoading(false));\r\n\t\t\t})\r\n\t\t\t.catch((e) => console.log(e));\r\n\t};\r\n};\r\n\r\nexport const setLoading = (loading) => {\r\n\treturn (dispatch) =>\r\n\t\tdispatch({\r\n\t\t\ttype: SET_LOADING,\r\n\t\t\tpayload: {\r\n\t\t\t\tloading,\r\n\t\t\t},\r\n\t\t});\r\n};\r\n\r\nexport const restartState = (data) => {\r\n\treturn (dispatch) =>\r\n\t\tdispatch({\r\n\t\t\ttype: RESTART_STATE,\r\n\t\t});\r\n};\r\n","import axios from \"axios\";\r\nimport cogoToast from \"cogo-toast\";\r\nimport api from \"../api/api\";\r\n\r\nconst API = new api();\r\n\r\nexport const TOGGLE_NAVBAR = \"[APP] TOGGLE_NAVBAR\",\r\n  TOGGLE_POST_MODAL = \"[APP] TOGGLE_POST_MODAL\",\r\n  TOGGLE_PROFILE_PICTURE_MODAL = \"[APP] TOGGLE_PROFILE_PICTURE_MODAL\",\r\n  TOGGLE_SETTINGS_MODAL = \"[APP] TOGGLE_SETTINGS_MODAL\",\r\n  SET_PROFILE_PRIVACY = \"[APP] SET_PROFILE_PRIVACY\",\r\n  SIGN_UP = \"[APP] SIGN_UP\",\r\n  SIGN_IN = \"[APP] SIGN_IN\",\r\n  RECONNECT = \"[APP] RECONNECT\",\r\n  LOGOUT = \"[APP] LOGOUT\",\r\n  SET_SETTINGS_LOADING = \"[APP] SET_SETTINGS_LOADING\",\r\n  SET_LOGIN_LOADING = \"[APP] SET_LOGIN_LOADING\",\r\n  SET_PROFILE_PICTURE = \"[APP] SET_PROFILE_PICTURE\",\r\n  RESET_LAST_CONNECTION = \"[APP] RESET_LAST_CONNECTION\",\r\n  SET_PROFILE_DESCRIPTION = \"[APP] SET_PROFILE_DESCRIPTION\",\r\n  ERROR = \"[APP] ERROR\";\r\n\r\nexport const setLoginLoad = (value) => {\r\n  return (dispatch) =>\r\n    dispatch({\r\n      type: SET_LOGIN_LOADING,\r\n      payload: {\r\n        value,\r\n      },\r\n    });\r\n};\r\n\r\nexport const setSettingsLoad = (value) => {\r\n  return (dispatch) =>\r\n    dispatch({\r\n      type: SET_SETTINGS_LOADING,\r\n      payload: {\r\n        value,\r\n      },\r\n    });\r\n};\r\n\r\nexport const togglePostModal = () => {\r\n  return (dispatch) =>\r\n    dispatch({\r\n      type: TOGGLE_POST_MODAL,\r\n    });\r\n};\r\n\r\nexport const toggleSettingsModal = () => {\r\n  return (dispatch) =>\r\n    dispatch({\r\n      type: TOGGLE_SETTINGS_MODAL,\r\n    });\r\n};\r\n\r\nexport const toggleProfilePictureModal = () => {\r\n  return (dispatch) =>\r\n    dispatch({\r\n      type: TOGGLE_PROFILE_PICTURE_MODAL,\r\n    });\r\n};\r\n\r\nexport const toggleProfilePrivacy = () => {\r\n  return (dispatch) => {\r\n    dispatch(setSettingsLoad(true));\r\n\r\n    API.patch(\"user/settings/privacy\")\r\n      .then((res) => {\r\n        dispatch({\r\n          type: SET_PROFILE_PRIVACY,\r\n          payload: res.response,\r\n        });\r\n      })\r\n      .catch((e) => console.log(e))\r\n      .then(() => {\r\n        dispatch(resetLastConnection());\r\n        dispatch(setSettingsLoad(false));\r\n      });\r\n  };\r\n};\r\nexport const reconnect = (last_session) => {\r\n  return (dispatch) => {\r\n    dispatch(setLoginLoad(true));\r\n\r\n    dispatch({\r\n      type: RECONNECT,\r\n      payload: {\r\n        last_session,\r\n      },\r\n    });\r\n  };\r\n};\r\n\r\nexport const resetLastConnection = () => {\r\n  return (dispatch) =>\r\n    dispatch({\r\n      type: RESET_LAST_CONNECTION,\r\n    });\r\n};\r\n\r\nexport const logout = () => {\r\n  return (dispatch) => {\r\n    localStorage.removeItem(\"last_session\");\r\n    dispatch(setLoginLoad(true));\r\n    dispatch({\r\n      type: LOGOUT,\r\n    });\r\n    window.location.href = \"/\";\r\n  };\r\n};\r\n\r\nexport const signUp = ({ username, password }) => {\r\n  return (dispatch) => {\r\n    dispatch(setLoginLoad(true));\r\n\r\n    API.post(\"auth/sign-up\", { username, password })\r\n      .then((res) => {\r\n        if (res.code === 200) {\r\n          cogoToast.success(`Welcome @${res.response.username}!`, {\r\n            position: \"bottom-right\",\r\n          });\r\n          dispatch({\r\n            type: SIGN_UP,\r\n            payload: {\r\n              ...res.response,\r\n            },\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => console.log(e))\r\n      .then(() => dispatch(setLoginLoad(false)));\r\n  };\r\n};\r\n\r\nexport const signIn = ({ username, password }) => {\r\n  return (dispatch) => {\r\n    dispatch(setLoginLoad(true));\r\n\r\n    API.post(\"auth/sign-in\", { username, password })\r\n      .then((res) => {\r\n        if (res.code === 200) {\r\n          cogoToast.success(`Welcome back @${res.response.username} :)!`, {\r\n            position: \"bottom-right\",\r\n          });\r\n          dispatch({\r\n            type: SIGN_IN,\r\n            payload: {\r\n              ...res.response,\r\n            },\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => console.log(e))\r\n      .then(() => dispatch(setLoginLoad(false)));\r\n  };\r\n};\r\n\r\nexport const setProfilePic = (url) => {\r\n  return (dispatch) => {\r\n    cogoToast.success(`Profile picture updated!`, {\r\n      position: \"bottom-right\",\r\n    });\r\n    dispatch({\r\n      type: SET_PROFILE_PICTURE,\r\n      payload: {\r\n        url,\r\n      },\r\n    });\r\n\r\n    dispatch(resetLastConnection());\r\n  };\r\n};\r\n\r\nexport const setDescription = (description) => {\r\n  return (dispatch) => {\r\n    cogoToast.success(`Description updated!`, {\r\n      position: \"bottom-right\",\r\n    });\r\n    dispatch({\r\n      type: SET_PROFILE_DESCRIPTION,\r\n      payload: {\r\n        description,\r\n      },\r\n    });\r\n\r\n    dispatch(resetLastConnection());\r\n  };\r\n};\r\n\r\nexport const toggleNavbar = (value) => {\r\n  return (dispatch) =>\r\n    dispatch({\r\n      type: TOGGLE_NAVBAR,\r\n      payload: {\r\n        value,\r\n      },\r\n    });\r\n};\r\n","import React, { Component, Fragment, Suspense, lazy } from \"react\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\n\r\nconst Home = lazy(() => import(\"../pages/Home\"));\r\nconst Profile = lazy(() => import(\"../pages/Profile\"));\r\nconst Error = lazy(() => import(\"../pages/Error\"));\r\nconst Explore = lazy(() => import(\"../pages/Explore\"));\r\nconst NewPostModal = lazy(() => import(\"../components/NewPostModal\"));\r\nconst SettingsModal = lazy(() => import(\"../components/SettingsModal\"));\r\nconst Navbar = lazy(() => import(\"../components/Navbar\"));\r\nclass AppRouter extends Component {\r\n  \r\n  render() {\r\n    return (\r\n      <BrowserRouter>\r\n        <Suspense fallback={<div></div>}>\r\n          <Switch>\r\n            <Route path=\"/\" component={Home} exact />\r\n            <Fragment>\r\n              <div className=\"d-flex page\">\r\n                <NewPostModal />\r\n                <SettingsModal />\r\n                <Route path=\"/explore\" component={Explore} />\r\n                <Route path=\"/u/:id\" component={Profile} />\r\n                <Navbar />\r\n              </div>\r\n            </Fragment>\r\n            <Route component={Error} />\r\n          </Switch>\r\n        </Suspense>\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppRouter;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Store from './store';\r\nimport { Provider } from 'react-redux';\r\nimport { reconnect } from './actions/app';\r\nimport AppRouter from './routes/AppRouter';\r\nimport './styles/Main.scss';\r\n\r\nconst store = Store;\r\n\r\nconst last_session = localStorage.getItem('last_session');\r\n\r\nif (last_session) {\r\n\tstore.dispatch(reconnect(JSON.parse(last_session)));\r\n}\r\n\r\nReactDOM.render(\r\n\t<Provider store={Store}>\r\n\t\t<AppRouter />\r\n\t</Provider>,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}